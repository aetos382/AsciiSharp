# language: ja

@FR-011 @FR-012 @SectionTitle
フィーチャ: セクションタイトルの認識条件
    ライブラリユーザーとして、
    セクション見出しとして認識される条件を理解し、
    条件を満たさない行が段落として扱われることを確認したい

    背景:
        前提 AsciiDoc パーサーが初期化されている

    @FR-011
    シナリオ: = が 7 個以上の行は段落として扱われる
        前提 以下の AsciiDoc 文書がある:
            """
            ======= タイトル
            """
        もし 文書を解析する
        かつ 構文木から完全なテキストを取得する
        ならば Document ノードは Header を持たない
        かつ Document ノードは 0 個のセクションを持つ
        かつ Document ノードは 1 個の段落を持つ
        かつ 再構築されたテキストは元の文書と一致する

    @FR-011
    シナリオ: = が 6 個の行はセクション見出しとして認識される
        前提 以下の AsciiDoc 文書がある:
            """
            ====== レベル6
            """
        もし 文書を解析する
        ならば 最初のセクションタイトルのレベルは 6 である

    @FR-012
    シナリオ: = の後に空白がない行は段落として扱われる
        前提 以下の AsciiDoc 文書がある:
            """
            ==タイトル
            """
        もし 文書を解析する
        かつ 構文木から完全なテキストを取得する
        ならば Document ノードは Header を持たない
        かつ Document ノードは 0 個のセクションを持つ
        かつ Document ノードは 1 個の段落を持つ
        かつ 再構築されたテキストは元の文書と一致する

    @FR-012
    シナリオ: = の後に空白がある行はセクション見出しとして認識される
        前提 以下の AsciiDoc 文書がある:
            """
            == タイトル
            """
        もし 文書を解析する
        ならば Document ノードは 1 個のセクションを持つ

    @FR-012
    シナリオ: 単一の = の後に空白がない行は段落として扱われる
        前提 以下の AsciiDoc 文書がある:
            """
            =タイトル
            """
        もし 文書を解析する
        かつ 構文木から完全なテキストを取得する
        ならば Document ノードは Header を持たない
        かつ Document ノードは 0 個のセクションを持つ
        かつ Document ノードは 1 個の段落を持つ
        かつ 再構築されたテキストは元の文書と一致する

    @FR-012
    シナリオ: ドキュメントタイトル位置の空タイトルは診断情報を伴う
        前提 以下の AsciiDoc 文書がある:
            """
            = 
            """
        もし 文書を解析する
        ならば 構文木が生成される
        かつ 構文木に診断情報が含まれる

    @FR-011 @FR-012
    シナリオ: = が 7 個以上で空白ありの行も段落として扱われる
        前提 以下の AsciiDoc 文書がある:
            """
            ======= これは見出しではない

            ======== これも見出しではない
            """
        もし 文書を解析する
        かつ 構文木から完全なテキストを取得する
        ならば Document ノードは Header を持たない
        かつ Document ノードは 0 個のセクションを持つ
        かつ Document ノードは 2 個の段落を持つ
        かつ 再構築されたテキストは元の文書と一致する
